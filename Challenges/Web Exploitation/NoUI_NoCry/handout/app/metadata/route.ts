import { NextRequest, NextResponse } from "next/server";
import {JWT_SECRET} from "@/lib/jwt_secret";
import { INTERNAL_ACCESS_SECRET } from "@/lib/puppeteer-secret";

const VALID_TOKEN = "access-token: try_harder_to_get_the_secret";

export async function GET(req: NextRequest) {
  const token = req.headers.get("authorization") || "";
  const ip = req.headers.get("x-forwarded-for") || "";


  if (token !== VALID_TOKEN || ip !== "127.0.0.1") {
    return NextResponse.json({ error: "Forbidden" }, { status: 403 });
  }

  return NextResponse.json({
    "jwt-secret": JWT_SECRET,
    "internal_secret":INTERNAL_ACCESS_SECRET,
  });
}
